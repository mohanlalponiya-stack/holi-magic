<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Holi AI Magic</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-white flex items-center justify-center min-h-screen">

<div class="text-center space-y-6 p-6 max-w-md w-full">
  <h1 class="text-4xl font-black">üé® Holi AI Magic</h1>
  <p class="text-gray-400">AI ‡§∏‡•á ‡§π‡•ã‡§≤‡•Ä ‡§ï‡•Ä ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§è‡§Ç</p>

  <textarea id="prompt"
    class="w-full p-3 rounded-lg text-black"
    rows="3"
    placeholder="‡§ú‡•à‡§∏‡•á: ‡§è‡§ï ‡§¨‡§ö‡•ç‡§ö‡§æ ‡§π‡•ã‡§≤‡•Ä ‡§ñ‡•á‡§≤‡§§‡•á ‡§π‡•Å‡§è, ‡§∞‡§Ç‡§ó‡•ã‡§Ç ‡§∏‡•á ‡§≠‡§∞‡§æ ‡§π‡•Å‡§Ü, ‡§´‡•á‡§∏‡•ç‡§ü‡§ø‡§µ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§°">
  </textarea>

  <button onclick="generate()"
    class="w-full py-3 bg-pink-600 rounded-xl font-bold">
    ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§è‡§Ç
  </button>

  <p id="status" class="text-sm text-gray-400"></p>

  <img id="result" class="rounded-xl mt-4 hidden w-full"/>
</div>

<script>
async function generate() {
  const prompt = document.getElementById("prompt").value;
  const status = document.getElementById("status");
  const img = document.getElementById("result");

  if (!prompt) {
    status.innerText = "‡§™‡§π‡§≤‡•á prompt ‡§≤‡§ø‡§ñ‡•ã";
    return;
  }

  img.classList.add("hidden");
  status.innerText = "AI ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ ‡§∞‡§π‡§æ ‡§π‡•à... ‚è≥";

  const res = await fetch("/api/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      prompt:
        prompt +
        ", Holi festival, vibrant colors, Indian style, cinematic lighting, ultra realistic"
    })
  });

  const data = await res.json();

  if (data.image) {
    img.src = data.image;
    img.classList.remove("hidden");
    status.innerText = "‡§§‡•à‡§Ø‡§æ‡§∞ üéâ";
  } else {
    status.innerText = "Error: " + data.error;
  }
}
</script>

</body>
</html>
